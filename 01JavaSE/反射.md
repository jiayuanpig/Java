### 反射

>  是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意方法和属性；这种动态获取信息以及动态调用对象方法的功能称为java语言的反射机制。

| 类名          | 用途                                             |
| ------------- | ------------------------------------------------ |
| Class类       | 代表类的实体，在运行的Java应用程序中表示类和接口 |
| Field类       | 代表类的成员变量（成员变量也称为类的属性）       |
| Method类      | 代表类的方法                                     |
| Constructor类 | 代表类的构造方法                                 |

- **获得类相关的方法**

| 方法                       | 用途                                                   |
| -------------------------- | ------------------------------------------------------ |
| asSubclass(Class<U> clazz) | 把传递的类的对象转换成代表其子类的对象                 |
| Cast                       | 把对象转换成代表类或是接口的对象                       |
| getClassLoader()           | 获得类的加载器                                         |
| getClasses()               | 返回一个数组，数组中包含该类中所有公共类和接口类的对象 |
| getDeclaredClasses()       | 返回一个数组，数组中包含该类中所有类和接口类的对象     |
| forName(String className)  | 根据类名返回类的对象                                   |
| getName()                  | 获得类的完整路径名字                                   |
| newInstance()              | 创建类的实例                                           |
| getPackage()               | 获得类的包                                             |
| getSimpleName()            | 获得类的名字                                           |
| getSuperclass()            | 获得当前类继承的父类的名字                             |
| getInterfaces()            | 获得当前类实现的类或是接口                             |



1. 获取成员变量

   ```java
   Field[] getFields()
   Field getField(String name)  
       
   Field[] getDeclaredFields()//获取所有的，不考虑修饰符
   Field getDeclaredField(String name) 
   ```

2. 获取构造方法

   ```java
   Constructer<?>[] getConstructors()
   Constructer<?>[] getConstructor(类<?>...)
       
   Constructer<?>[] getDeclaredConstructors()
   Constructer<?>[] getDeclaredConstructor(类<?>...)    
       
       constructor.newInstance(类<?>...)//创建对象
   ```

   

3. 获取成员方法

   ```java
   Method<?>[] getMethods()
   Method<?>[] getMethod(类<?>...)
       
   Method<?>[] getDeclaredMethods()
   Method<?>[] getDeclaredMethod(类<?>...)   
   ```

   如何通过反射创建对象？

   \- 方法1：通过类对象调用newInstance()方法，例如：String.class.newInstance()
   \- 方法2：通过类对象的getConstructor()或getDeclaredConstructor()方法获得构造器（Constructor）对象并调用其newInstance()方法创建对象，例如：String.class.getConstructor(String.class).newInstance("Hello");







