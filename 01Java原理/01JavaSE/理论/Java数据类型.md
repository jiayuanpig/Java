# Java数据类型

**数据类型【8+3】**



## 基本数据类型（8种）

整型：byte、short、int、long

浮点型：float、double

字符型：char

布尔型：boolean

![八种数据类型字节数](https://pic4.zhimg.com/80/v2-a4de2da2942089375382858919e3ae63_720w.png)



**整型的数据范围**

byte 的取值范围：-128～127（-2的7次方到2的7次方-1）

short 的取值范围：-32768～32767（-2的15次方到2的15次方-1）

int 的取值范围：-2147483648～2147483647（-2的31次方到2的31次方-1）

long 的取值范围：-9223372036854774808～9223372036854774807（-2的63次方到2的63次方-1）

**浮点型的数据范围**

**数据范围 + 精度**

float：1bit（符号位） 8bits（指数位） 23bits（尾数位） = 32

double：1bit（符号位） 11bits（指数位） 52bits（尾数位）= 64

于是，float的指数范围为-128 ~ +127，而double的指数范围为-1024 ~ +1023，并且指数位是按补码的形式来划分的。其中负指数决定了浮点数所能表达的绝对值最小的非零数；而正指数决定了浮点数所能表达的绝对值最大的数，也即决定了浮点数的取值范围。

float的范围为-2^128 ~ +2^127，也即-3.40E+38 ~ +3.40E+38；

double的范围为-2^1024 ~ +2^1023，也即-1.79E+308 ~ +1.79E+308。

float和double的精度是由尾数的位数来决定的。浮点数在内存中是按科学计数法来存储的，其整数部分始终是一个隐含着的“1”，由于它是不变的，故不能对精度造成影响。

float：2^23 = 8388608，一共七位，由于最左为1的一位省略了，这意味着最多能表示8位数： 2*8388608 = 16777216 。有8位有效数字，但绝对能保证的为7位，也即 **float的精度为7~8位有效数字**；
double：2^52 = 4503599627370496，一共16位，同理， **double的精度为16~17位**。

**之所以不能用f1==f2来判断两个数相等，是因为虽然f1和f2在可能是两个不同的数字，但是受到浮点数表示精度的限制，有可能会错误的判断两个数相等！**



**字符型**

Java是用unicode 来表示字符，一般标准为两个字节

String.getBytes(encoding) 方法获取的是指定编码的byte数组表示。通常gbk / gb2312 是两个字节，utf-8 是3个字节。如果不指定encoding 则获取系统默认encoding 。



## **引用数据类型**（3种）

对象、数组、字符串





## 判断相等

**判断相等的主要有两种方法，==和equals**

### ==

- 对于基本类型是对数值的比较

- 对于引用类型是首地址值的比较


### equals

equals方法是java.lang.Object类的方法

对于字符串变量来说，使用“==”和“equals()”方法比较字符串时，其比较方法不同。

- “==”比较两个变量本身的值，即两个对象在内存中的首地址。

  (java中，对象的首地址是它在内存中存放的起始地址，它后面的地址是用来存放它所包含的各个属性的地址，所以内存中会用多个内存块来存放对象的各个参数，而通过这个首地址就可以找到该对象，进而可以找到该对象的各个属性)

- “equals()”比较字符串中所包含的内容是否相同。

**如果是基本类型比较，那么只能用==来比较，不能用equals，无法通过编译** 



equals内部包括hash值判断和实际值判断两步，具体流程略





## 基本数据类型相互转换

### 自动类型转换

自动类型转换是指：数字表示范围小的数据类型可以自动转换成范围大的数据类型。

**自动转换也要小心数据溢出问题**：编译没任何问题，但结果却输出的是负数，这是因为两个 int 相乘得到的结果是 int, 相乘的结果超出了 int 的代表范围。这种情况，一般把第一个数据转换成范围大的数据类型再和其他的数据进行运算。

### 强制类型转换

强制类型转换我们再清楚不过了，即强制显示的把一个数据类型转换为另外一种数据类型。

```java
short s = 199; 
int i = s;// 199 
double d = 10.24; 
long ll = (long) d;// 10
```

### 类型提升

所谓类型提升就是指在多种不同数据类型的表达式中，类型会自动向范围表示大的值的数据类型提升。

```java
//不会发生溢出
long count = 100000000;
int price = 1999;
long totalPrice = price * count;
```

